var PS={};!function(n){"use strict";var r=(PS.Prelude,function(n){this.compose=n}),t=function(n,r){this["__superclass_Prelude.Semigroupoid_0"]=n,this.id=r},e=function(n){this.map=n},a=function(n,r){this["__superclass_Prelude.Functor_0"]=n,this.apply=r},o=function(n,r){this["__superclass_Prelude.Apply_0"]=n,this.pure=r},u=function(n,r){this["__superclass_Prelude.Apply_0"]=n,this.bind=r},i=function(n,r){this["__superclass_Prelude.Applicative_0"]=n,this["__superclass_Prelude.Bind_1"]=r},f=function(n){return function(r){return n(r)}},c={},d=new r(function(n){return function(r){return function(t){return n(r(t))}}}),l=function(n){return n.pure},s=function(n){return l(n)},m=!0,E=function(n){return n.map},P=function(n){return E(n)},p=function(n){return n.id},S=function(n){return function(r){return function(t){return n(t)(r)}}},h=function(n){return function(r){return n}},T=function(n){return n.compose},b=function(n){return T(n)},v=function(n){return S(T(n))},g=new t(function(){return d},function(n){return n}),w=function(n){return n.bind},M=function(n){return w(n)},R=function(n){return n.apply},y=function(n){return R(n)},C=function(n){return function(r){return function(t){return y(n["__superclass_Prelude.Apply_0"]())(l(n)(r))(t)}}},_=function(n){return function(r){return function(t){return w(n["__superclass_Prelude.Bind_1"]())(r)(function(r){return w(n["__superclass_Prelude.Bind_1"]())(t)(function(t){return s(n["__superclass_Prelude.Applicative_0"]())(r(t))})})}}};n.Monad=i,n.Bind=u,n.Applicative=o,n.Apply=a,n.Functor=e,n.Category=t,n.Semigroupoid=r,n.ap=_,n["return"]=s,n[">>="]=M,n.bind=w,n.liftA1=C,n.pure=l,n["<*>"]=y,n.apply=R,n["<$>"]=P,n.map=E,n.id=p,n[">>>"]=v,n["<<<"]=b,n.compose=T,n.otherwise=m,n["const"]=h,n.flip=S,n.$=f,n.unit=c,n.semigroupoidFn=d,n.categoryFn=g}(PS.Prelude=PS.Prelude||{}),function(n){"use strict";var r=PS.Prelude,t=function(n){return function(t){return function(e){return function(a){return r["<*>"](n)(r["<$>"](n["__superclass_Prelude.Functor_0"]())(t)(e))(a)}}}};n.lift2=t}(PS["Control.Apply"]=PS["Control.Apply"]||{}),function(n){"use strict";var r=PS.Prelude,t=function(n){return function(t){return function(e){if(t)return e;if(!t)return r["return"](n["__superclass_Prelude.Applicative_0"]())(r.unit);throw new Error("Failed pattern match at Control.Monad line 8, column 1 - line 9, column 1: "+[t.constructor.name,e.constructor.name])}}};n.when=t}(PS["Control.Monad"]=PS["Control.Monad"]||{}),function(n){"use strict";n.returnE=function(n){return function(){return n}},n.bindE=function(n){return function(r){return function(){return r(n())()}}}}(PS["Control.Monad.Eff"]=PS["Control.Monad.Eff"]||{}),function(n){"use strict";var r=PS["Control.Monad.Eff"],t=PS.Prelude,e=new t.Monad(function(){return u},function(){return a}),a=new t.Bind(function(){return o},r.bindE),o=new t.Apply(function(){return i},t.ap(e)),u=new t.Applicative(function(){return o},r.returnE),i=new t.Functor(t.liftA1(u));n.functorEff=i,n.applyEff=o,n.applicativeEff=u,n.bindEff=a,n.monadEff=e}(PS["Control.Monad.Eff"]=PS["Control.Monad.Eff"]||{}),function(n){"use strict";var r=PS.Prelude,t=PS["Control.Monad.Eff"],e=function(n,r){this["__superclass_Prelude.Monad_0"]=n,this.liftEff=r},a=new e(function(){return t.monadEff},r.id(r.categoryFn)),o=function(n){return n.liftEff};n.MonadEff=e,n.liftEff=o,n.monadEffEff=a}(PS["Control.Monad.Eff.Class"]=PS["Control.Monad.Eff.Class"]||{}),function(n){"use strict";var r=(PS.Prelude,function(n){this.lift=n}),t=function(n){return n.lift};n.MonadTrans=r,n.lift=t}(PS["Control.Monad.Trans"]=PS["Control.Monad.Trans"]||{}),function(n){"use strict";var r=PS.Prelude,t=(PS["Data.Monoid"],PS["Control.Alt"],PS["Control.Extend"],PS["Data.Bifoldable"],PS["Data.Bifunctor"],PS["Data.Bitraversable"],PS["Data.Foldable"],PS["Data.Traversable"],function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}()),e=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),a=new r.Functor(function(n){return function(r){if(r instanceof t)return new t(r.value0);if(r instanceof e)return new e(n(r.value0));throw new Error("Failed pattern match at Data.Either line 52, column 1 - line 56, column 1: "+[n.constructor.name,r.constructor.name])}}),o=new r.Apply(function(){return a},function(n){return function(o){if(n instanceof t)return new t(n.value0);if(n instanceof e)return r["<$>"](a)(n.value0)(o);throw new Error("Failed pattern match at Data.Either line 92, column 1 - line 116, column 1: "+[n.constructor.name,o.constructor.name])}});n.Left=t,n.Right=e,n.functorEither=a,n.applyEither=o}(PS["Data.Either"]=PS["Data.Either"]||{}),function(n){"use strict";var r=PS.Prelude,t=PS["Control.Apply"],e=(PS["Control.Monad.Error"],PS["Control.Monad.Rec.Class"],PS["Control.Monad.Trans"]),a=PS["Control.Monad.Eff.Class"],o=(PS["Control.Alt"],PS["Control.Alternative"],PS["Control.MonadPlus"],PS["Control.Plus"],PS["Data.Either"]),u=(PS["Data.Monoid"],PS["Data.Tuple"],function(n){return n}),i=function(n){return n},f=new e.MonadTrans(function(n){return function(t){return u(r.bind(n["__superclass_Prelude.Bind_1"]())(t)(function(t){return r["return"](n["__superclass_Prelude.Applicative_0"]())(new o.Right(t))}))}}),c=function(n){return new r.Functor(function(t){return r["<<<"](r.semigroupoidFn)(u)(r["<<<"](r.semigroupoidFn)(r["<$>"](n)(r["<$>"](o.functorEither)(t)))(i))})},d=function(n){return new r.Apply(function(){return c(n["__superclass_Prelude.Functor_0"]())},function(e){return function(a){return u(r["<*>"](n)(r["<$>"](n["__superclass_Prelude.Functor_0"]())(t.lift2(o.applyEither)(r.$))(e))(a))}})},l=function(n){return new r.Bind(function(){return d(n["__superclass_Prelude.Applicative_0"]()["__superclass_Prelude.Apply_0"]())},function(t){return function(e){return u(r.bind(n["__superclass_Prelude.Bind_1"]())(i(t))(function(t){if(t instanceof o.Left)return r["return"](n["__superclass_Prelude.Applicative_0"]())(new o.Left(t.value0));if(t instanceof o.Right)return i(e(t.value0));throw new Error("Failed pattern match at Control.Monad.Error.Trans line 55, column 1 - line 62, column 1: "+[t.constructor.name])}))}})},s=function(n){return new r.Applicative(function(){return d(n["__superclass_Prelude.Apply_0"]())},function(t){return u(r.pure(n)(new o.Right(t)))})},m=function(n){return new r.Monad(function(){return s(n["__superclass_Prelude.Applicative_0"]())},function(){return l(n)})},E=function(n){return function(t){return new a.MonadEff(function(){return m(n)},r["<<<"](r.semigroupoidFn)(e.lift(f)(n))(a.liftEff(t)))}};n.ErrorT=u,n.runErrorT=i,n.functorErrorT=c,n.applyErrorT=d,n.applicativeErrorT=s,n.bindErrorT=l,n.monadErrorT=m,n.monadTransErrorT=f,n.monadEffError=E}(PS["Control.Monad.Error.Trans"]=PS["Control.Monad.Error.Trans"]||{}),function(n){"use strict";var r=PS.Prelude,t=(PS["Control.Alt"],PS["Control.Plus"],PS["Control.Monad.Trans"]),e=PS["Control.Monad.Eff.Class"],a=(PS["Data.Distributive"],PS["Control.Alternative"],PS["Control.MonadPlus"],function(n){return n}),o=function(n){return n},u=function(n){return function(t){return a(r["<<<"](r.semigroupoidFn)(o(t))(n))}},i=function(n){return function(t){return a(r["<<<"](r.semigroupoidFn)(n)(o(t)))}},f=function(n){return r["const"](n)},c=new t.MonadTrans(function(n){return f}),d=function(n){return function(r){return function(t){return a(function(e){return n(o(r)(e))(function(n){return o(t(n))(e)})})}}},l=function(n){return new r.Functor(function(t){return i(r["<$>"](n)(t))})},s=function(n){return new r.Apply(function(){return l(n["__superclass_Prelude.Apply_0"]()["__superclass_Prelude.Functor_0"]())},function(t){return function(e){return function(a){return r["<*>"](n["__superclass_Prelude.Apply_0"]())(o(t)(a))(o(e)(a))}}})},m=function(n){return new r.Bind(function(){return s(n["__superclass_Prelude.Applicative_0"]())},function(t){return function(e){return function(a){return r.bind(n["__superclass_Prelude.Bind_1"]())(o(t)(a))(function(n){return o(e(n))(a)})}}})},E=function(n){return new r.Applicative(function(){return s(n)},r["<<<"](r.semigroupoidFn)(f)(r.pure(n)))},P=function(n){return new r.Monad(function(){return E(n["__superclass_Prelude.Applicative_0"]())},function(){return m(n)})},p=function(n){return function(a){return new e.MonadEff(function(){return P(n)},r["<<<"](r.semigroupoidFn)(t.lift(c)(n))(e.liftEff(a)))}};n.ReaderT=a,n.liftCatchReader=d,n.liftReaderT=f,n.mapReaderT=i,n.withReaderT=u,n.runReaderT=o,n.functorReaderT=l,n.applyReaderT=s,n.applicativeReaderT=E,n.bindReaderT=m,n.monadReaderT=P,n.monadTransReaderT=c,n.monadEffReader=p}(PS["Control.Monad.Reader.Trans"]=PS["Control.Monad.Reader.Trans"]||{}),function(n){"use strict";var r=(PS.Prelude,PS["Data.Functor.Invariant"],PS["Control.Alt"],PS["Control.Alternative"],PS["Control.Extend"],PS["Control.MonadPlus"],PS["Control.Plus"],PS["Data.Monoid"],function(){function n(){}return n.value=new n,n}()),t=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}();n.Nothing=r,n.Just=t}(PS["Data.Maybe"]=PS["Data.Maybe"]||{}),function(n){"use strict";var r=PS.Prelude,t=PS["Control.Monad.Error.Trans"],e=(PS["Control.Monad.Except.Trans"],PS["Control.Monad.Trans"]),a=(PS["Control.Monad.Maybe.Trans"],PS["Control.Monad.Reader.Trans"]),o=(PS["Control.Monad.Writer.Trans"],PS["Control.Monad.State.Trans"],PS["Control.Monad.Error"],PS["Data.Either"]),u=(PS["Data.Maybe"],PS["Data.Monoid"],function(n,r){this.catchError=n,this.throwError=r}),i=function(n){return n.throwError},f=function(n){return new u(function(e){return function(a){return t.ErrorT(r.bind(n["__superclass_Prelude.Bind_1"]())(t.runErrorT(e))(function(e){if(e instanceof o.Left)return t.runErrorT(a(e.value0));if(e instanceof o.Right)return r["return"](n["__superclass_Prelude.Applicative_0"]())(new o.Right(e.value0));throw new Error("Failed pattern match at Control.Monad.Error.Class line 65, column 1 - line 73, column 1: "+[e.constructor.name])}))}},function(e){return t.ErrorT(r["return"](n["__superclass_Prelude.Applicative_0"]())(new o.Left(e)))})},c=function(n){return n.catchError},d=function(n){return function(r){return new u(a.liftCatchReader(c(r)),function(t){return e.lift(a.monadTransReaderT)(n)(i(r)(t))})}};n.MonadError=u,n.catchError=c,n.throwError=i,n.monadErrorErrorT=f,n.monadErrorReaderT=d}(PS["Control.Monad.Error.Class"]=PS["Control.Monad.Error.Class"]||{}),function(n){"use strict";var r=PS.Prelude,t=PS["Control.Monad.Reader.Trans"],e=(PS["Control.Monad.Trans"],PS["Control.Monad.Error.Trans"],PS["Control.Monad.Maybe.Trans"],PS["Control.Monad.Writer.Trans"],PS["Control.Monad.State.Trans"],PS["Control.Monad.RWS"],PS["Control.Monad.Error"],PS["Control.Monad.RWS.Trans"],PS["Data.Monoid"],function(n,r){this.ask=n,this.local=r}),a=function(n){return new e(r["return"](n["__superclass_Prelude.Applicative_0"]()),t.withReaderT)},o=function(n){return n.local},u=function(n){return n.ask};n.MonadReader=e,n.local=o,n.ask=u,n.monadReaderReaderT=a}(PS["Control.Monad.Reader.Class"]=PS["Control.Monad.Reader.Class"]||{}),function(n){"use strict";n.length=function(n){return n.length}}(PS["Data.Array"]=PS["Data.Array"]||{}),function(n){"use strict";n.unsafeThrow=function(n){throw new Error(n)}}(PS["Data.Maybe.Unsafe"]=PS["Data.Maybe.Unsafe"]||{}),function(n){"use strict";var r=PS["Data.Maybe.Unsafe"],t=(PS.Prelude,PS["Data.Maybe"]),e=function(n){if(n instanceof t.Just)return n.value0;if(n instanceof t.Nothing)return r.unsafeThrow("Data.Maybe.Unsafe.fromJust called on Nothing");throw new Error("Failed pattern match at Data.Maybe.Unsafe line 10, column 1 - line 11, column 1: "+[n.constructor.name])};n.fromJust=e}(PS["Data.Maybe.Unsafe"]=PS["Data.Maybe.Unsafe"]||{}),function(n){"use strict";var r=PS["Data.Array"];PS.Prelude,PS["Data.Traversable"],PS["Control.Lazy"],PS["Control.Alt"],PS["Data.Maybe"],PS["Data.Maybe.Unsafe"],PS["Data.Foldable"],PS["Control.Alternative"],PS["Control.MonadPlus"],PS["Control.Plus"],PS["Data.Functor.Invariant"],PS["Data.Monoid"],PS["Data.Tuple"];n.length=r.length}(PS["Data.Array"]=PS["Data.Array"]||{}),function(n){"use strict";var r=(PS["Data.Generic"],PS["Data.Foldable"],PS.Prelude,PS["Data.Array"],PS["Data.Traversable"],PS["Data.String"],PS["Data.Either"],PS["Data.Maybe"],PS["Data.Tuple"],function(){function n(){}return n.value=new n,n}()),t=r.value;n.Proxy=r,n.anyProxy=t}(PS["Data.Generic"]=PS["Data.Generic"]||{}),function(n){"use strict";var r=(PS.Prelude,PS["Data.Generic"]),t=function(n){this.sized=n},e=new t(function(n){return 0}),a=function(n){return n.sized},o=function(n){return new t(function(t){return 1+a(n)(r.anyProxy)|0})};n.Sized=t,n.sized=a,n.sz=e,n.ss=o}(PS["Data.TypeNat"]=PS["Data.TypeNat"]||{}),function(n){"use strict";n.fail=function(n){throw new Error(n)}}(PS.Extensions=PS.Extensions||{}),function(n){"use strict";var r=PS.Extensions;PS["Data.Traversable"],PS.Prelude,PS["Control.Monad.Eff"],PS["Data.Maybe.Unsafe"];n.fail=r.fail}(PS.Extensions=PS.Extensions||{}),function(n){"use strict";n.cos=Math.cos,n.sin=Math.sin,n.pi=Math.PI}(PS.Math=PS.Math||{}),function(n){"use strict";var r=PS.Math;n.pi=r.pi,n.sin=r.sin,n.cos=r.cos}(PS.Math=PS.Math||{}),function(n){"use strict";var r=PS["Data.TypeNat"],t=PS["Data.Generic"],e=PS.Prelude,a=PS["Data.Array"],o=PS.Extensions,u=(PS["Data.Maybe.Unsafe"],PS["Data.Vector"],PS["Data.Monoid"],PS["Data.Foldable"],PS["Control.Apply"],PS.Math,function(n){return n}),i=function(n){return function(u){var i=r.sized(n)(t.anyProxy),f=i*i|0;if(f===a.length(u))return u;if(e.otherwise)return o.fail("Matrix>>fromArray: Wrong array length!");throw new Error("Failed pattern match at Data.Matrix line 109, column 1 - line 110, column 1: "+[f.constructor.name])}};n.toArray=u,n.fromArray=i}(PS["Data.Matrix"]=PS["Data.Matrix"]||{}),function(n){"use strict";var r=(PS.Prelude,PS["Data.Array"],PS.Extensions,PS["Data.Array.Unsafe"],PS["Data.Maybe.Unsafe"],PS["Data.Vector"],PS["Data.TypeNat"],PS.Math,function(n){return function(r){return function(t){return[n,r,t]}}});n.vec3=r}(PS["Data.Vector3"]=PS["Data.Vector3"]||{}),function(n){"use strict";var r=PS["Data.Matrix"],t=(PS.Prelude,PS["Data.Vector"],PS.Extensions),e=(PS.Math,PS["Data.Vector3"],PS["Data.TypeNat"]),a=(PS["Data.Vector4"],PS["Data.Array"],PS["Data.Maybe"],function(n){return function(r){return 16===n.length&&16===r.length?[n[0]*r[0]+n[4]*r[1]+n[8]*r[2]+n[12]*r[3],n[1]*r[0]+n[5]*r[1]+n[9]*r[2]+n[13]*r[3],n[2]*r[0]+n[6]*r[1]+n[10]*r[2]+n[14]*r[3],n[3]*r[0]+n[7]*r[1]+n[11]*r[2]+n[15]*r[3],n[0]*r[4]+n[4]*r[5]+n[8]*r[6]+n[12]*r[7],n[1]*r[4]+n[5]*r[5]+n[9]*r[6]+n[13]*r[7],n[2]*r[4]+n[6]*r[5]+n[10]*r[6]+n[14]*r[7],n[3]*r[4]+n[7]*r[5]+n[11]*r[6]+n[15]*r[7],n[0]*r[8]+n[4]*r[9]+n[8]*r[10]+n[12]*r[11],n[1]*r[8]+n[5]*r[9]+n[9]*r[10]+n[13]*r[11],n[2]*r[8]+n[6]*r[9]+n[10]*r[10]+n[14]*r[11],n[3]*r[8]+n[7]*r[9]+n[11]*r[10]+n[15]*r[11],n[0]*r[12]+n[4]*r[13]+n[8]*r[14]+n[12]*r[15],n[1]*r[12]+n[5]*r[13]+n[9]*r[14]+n[13]*r[15],n[2]*r[12]+n[6]*r[13]+n[10]*r[14]+n[14]*r[15],n[3]*r[12]+n[7]*r[13]+n[11]*r[14]+n[15]*r[15]]:t.fail("Matrix4>>mulM: Impossible!")}}),o=r.fromArray(e.ss(e.ss(e.ss(e.ss(e.sz)))));n.mulM=a,n.mat4=o}(PS["Data.Matrix4"]=PS["Data.Matrix4"]||{}),function(n){"use strict";n.asFloat32Array=function(n){var r=new Float32Array(n);return r}}(PS["Data.TypedArray"]=PS["Data.TypedArray"]||{}),function(n){"use strict";var r=PS["Data.TypedArray"];PS.Prelude,PS["Data.ArrayBuffer.Types"],PS["Data.Maybe"];n.asFloat32Array=r.asFloat32Array}(PS["Data.TypedArray"]=PS["Data.TypedArray"]||{}),function(n){"use strict";n.getCanvasElementByIdImpl=function(n,r,t){return function(){var e=document.getElementById(n);return e&&e instanceof HTMLCanvasElement?r(e):t}}}(PS["Graphics.Canvas"]=PS["Graphics.Canvas"]||{}),function(n){"use strict";var r=PS["Graphics.Canvas"],t=(PS["Data.Function"],PS.Prelude,PS["Data.Maybe"]),e=(PS["Control.Monad.Eff"],function(n){return r.getCanvasElementByIdImpl(n,t.Just.create,t.Nothing.value)});n.getCanvasElementById=e}(PS["Graphics.Canvas"]=PS["Graphics.Canvas"]||{}),function(n){"use strict";n.getAttrBindingsImpl=function(n,r,t){return function(){var e,a,o,u;try{e={},o=n.getProgramParameter(r,n.ACTIVE_ATTRIBUTES);for(var i=0;o>i;i++)a=n.getActiveAttrib(r,i),u=n.getAttribLocation(r,a.name),e[a.name]=t(u);return e}catch(f){return null}}},n.getUniformBindingsImpl=function(n,r,t){return function(){var e,a,o,u;try{e={},o=n.getProgramParameter(r,n.ACTIVE_UNIFORMS);for(var i=0;o>i;i++)a=n.getActiveUniform(r,i),u=n.getUniformLocation(r,a.name),e[a.name]=t(u);return e}catch(f){return null}}}}(PS["Graphics.WebGL.Shader"]=PS["Graphics.WebGL.Shader"]||{}),function(n){"use strict";n.attachShaderImpl=function(n,r,t){return function(){return n.attachShader(r,t)}},n.bindBufferImpl=function(n,r,t){return function(){return n.bindBuffer(r,t)}},n.bufferDataImpl=function(n,r,t,e){return function(){return n.bufferData(r,t,e)}},n.bufferData_Impl=function(n,r,t,e){return function(){return n.bufferData(r,t,e)}},n.clearImpl=function(n,r){return function(){return n.clear(r)}},n.clearColorImpl=function(n,r,t,e,a){return function(){return n.clearColor(r,t,e,a)}},n.compileShaderImpl=function(n,r){return function(){return n.compileShader(r)}},n.createBufferImpl=function(n){return function(){return n.createBuffer()}},n.createProgramImpl=function(n){return function(){return n.createProgram()}},n.createShaderImpl=function(n,r){return function(){return n.createShader(r)}},n.drawArraysImpl=function(n,r,t,e){return function(){return n.drawArrays(r,t,e)}},n.enableVertexAttribArrayImpl=function(n,r){return function(){return n.enableVertexAttribArray(r)}},n.getProgramParameterImpl=function(n,r,t){return function(){return n.getProgramParameter(r,t)}},n.linkProgramImpl=function(n,r){return function(){return n.linkProgram(r)}},n.shaderSourceImpl=function(n,r,t){return function(){return n.shaderSource(r,t)}},n.uniformMatrix4fv_Impl=function(n,r,t,e){return function(){return n.uniformMatrix4fv(r,t,e)}},n.useProgramImpl=function(n,r){return function(){return n.useProgram(r)}},n.vertexAttribPointerImpl=function(n,r,t,e,a,o,u){return function(){return n.vertexAttribPointer(r,t,e,a,o,u)}}}(PS["Graphics.WebGL.Raw"]=PS["Graphics.WebGL.Raw"]||{}),function(n){"use strict";n.toMaybeImpl=function(n,r,t){return void 0===t||null===t?n:r(t)}}(PS["Graphics.WebGL.Raw.Util"]=PS["Graphics.WebGL.Raw.Util"]||{}),function(n){"use strict";var r=PS["Graphics.WebGL.Raw.Util"],t=(PS["Data.Function"],PS["Data.Maybe"]),e=function(n){return r.toMaybeImpl(t.Nothing.value,t.Just.create,n)};n.toMaybe=e}(PS["Graphics.WebGL.Raw.Util"]=PS["Graphics.WebGL.Raw.Util"]||{}),function(n){"use strict";var r=PS["Graphics.WebGL.Raw"],t=(PS["Data.Function"],PS.Prelude),e=PS["Graphics.WebGL.Raw.Util"],a=PS["Control.Monad.Eff"],o=(PS["Data.ArrayBuffer.Types"],PS["Data.Maybe"],PS["Graphics.Canvas"],PS["Graphics.WebGL.Raw.Types"],function(n){return function(t){return function(e){return function(a){return function(o){return function(u){return function(i){return r.vertexAttribPointerImpl(n,t,e,a,o,u,i)}}}}}}}),u=function(n){return function(t){return r.useProgramImpl(n,t)}},i=function(n){return function(t){return function(e){return function(a){return r.uniformMatrix4fv_Impl(n,t,e,a)}}}},f=function(n){return function(t){return function(e){return r.shaderSourceImpl(n,t,e)}}},c=function(n){return function(t){return r.linkProgramImpl(n,t)}},d=function(n){return function(o){return function(u){return t[">>="](a.bindEff)(r.getProgramParameterImpl(n,o,u))(t[">>>"](t.semigroupoidFn)(e.toMaybe)(t["return"](a.applicativeEff)))}}},l=function(n){return function(t){return r.enableVertexAttribArrayImpl(n,t)}},s=function(n){return function(t){return function(e){return function(a){return r.drawArraysImpl(n,t,e,a)}}}},m=function(n){return function(o){return t[">>="](a.bindEff)(r.createShaderImpl(n,o))(t[">>>"](t.semigroupoidFn)(e.toMaybe)(t["return"](a.applicativeEff)))}},E=function(n){return t[">>="](a.bindEff)(r.createProgramImpl(n))(t[">>>"](t.semigroupoidFn)(e.toMaybe)(t["return"](a.applicativeEff)))},P=function(n){return t[">>="](a.bindEff)(r.createBufferImpl(n))(t[">>>"](t.semigroupoidFn)(e.toMaybe)(t["return"](a.applicativeEff)))},p=function(n){return function(t){return r.compileShaderImpl(n,t)}},S=function(n){return function(t){return function(e){return function(a){return function(o){return r.clearColorImpl(n,t,e,a,o)}}}}},h=function(n){return function(t){return r.clearImpl(n,t)}},T=function(n){return function(t){return function(e){return function(a){return r.bufferData_Impl(n,t,e,a)}}}},b=function(n){return function(t){return function(e){return function(a){return r.bufferDataImpl(n,t,e,a)}}}},v=function(n){return function(t){return function(e){return r.bindBufferImpl(n,t,e)}}},g=function(n){return function(t){return function(e){return r.attachShaderImpl(n,t,e)}}};n.vertexAttribPointer=o,n.useProgram=u,n.uniformMatrix4fv_=i,n.shaderSource=f,n.linkProgram=c,n.getProgramParameter=d,n.enableVertexAttribArray=l,n.drawArrays=s,n.createShader=m,n.createProgram=E,n.createBuffer=P,n.compileShader=p,n.clearColor=S,n.clear=h,n.bufferData_=T,n.bufferData=b,n.bindBuffer=v,n.attachShader=g}(PS["Graphics.WebGL.Raw"]=PS["Graphics.WebGL.Raw"]||{}),function(n){"use strict";var r=(PS["Graphics.WebGL.Raw.Types"],35633),t=35715,e=5123,a=5125,o=5121,u=4,i=5,f=6,c=35040,d=1024,l=35044,s=5122,m=0,E=35714,P=1,p=3,S=2,h=5124,T=35632,b=5126,v=34963,g=35048,w=256,M=35712,R=16384,y=5120,C=35717,_=34962,D=35718,G=35721;n.vertexShader=r,n.validateStatus=t,n.unsignedShort=e,n.unsignedInt=a,n.unsignedByte=o,n.triangleStrip=i,n.triangleFan=f,n.triangles=u,n.streamDraw=c,n.stencilBufferBit=d,n.staticDraw=l,n["short"]=s,n.points=m,n.linkStatus=E,n.lineStrip=p,n.lineLoop=S,n.lines=P,n["int"]=h,n.fragmentShader=T,n["float"]=b,n.elementArrayBuffer=v,n.dynamicDraw=g,n.depthBufferBit=w,n.deleteStatus=M,n.colorBufferBit=R,n["byte"]=y,n.attachedShaders=C,n.arrayBuffer=_,n.activeUniforms=D,n.activeAttributes=G}(PS["Graphics.WebGL.Raw.Enums"]=PS["Graphics.WebGL.Raw.Enums"]||{}),function(n){"use strict";var r=(PS.Prelude,PS["Graphics.WebGL.Raw.Enums"]),t=(PS["Control.Monad.Error.Trans"],PS["Control.Monad.Eff"],PS["Control.Monad.Reader.Trans"],PS["Data.ArrayBuffer.Types"],PS["Graphics.Canvas"],PS["Graphics.WebGL.Raw.Types"],function(n){return n}),e=function(){function n(){}return n.value=new n,n}(),a=function(){function n(){}return n.value=new n,n}(),o=function(){function n(){}return n.value=new n,n}(),u=function(){function n(){}return n.value=new n,n}(),i=function(){function n(){}return n.value=new n,n}(),f=function(){function n(){}return n.value=new n,n}(),c=function(){function n(){}return n.value=new n,n}(),d=function(){function n(){}return n.value=new n,n}(),l=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),s=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),m=function(){function n(){}return n.value=new n,n}(),E=function(){function n(){}return n.value=new n,n}(),P=function(){function n(){}return n.value=new n,n}(),p=function(){function n(){}return n.value=new n,n}(),S=function(){function n(){}return n.value=new n,n}(),h=function(){function n(){}return n.value=new n,n}(),T=function(){function n(){}return n.value=new n,n}(),b=function(){function n(){}return n.value=new n,n}(),v=function(){function n(){}return n.value=new n,n}(),g=function(){function n(){}return n.value=new n,n}(),w=function(){function n(){}return n.value=new n,n}(),M=function(){function n(){}return n.value=new n,n}(),R=function(){function n(){}return n.value=new n,n}(),y=function(){function n(){}return n.value=new n,n}(),C=function(){function n(){}return n.value=new n,n}(),_=function(){function n(){}return n.value=new n,n}(),D=function(){function n(){}return n.value=new n,n}(),G=function(){function n(){}return n.value=new n,n}(),A=function(){function n(){}return n.value=new n,n}(),W=function(){function n(){}return n.value=new n,n}(),B=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),L=function(){function n(n){this.value0=n}return n.create=function(r){return new n(r)},n}(),F=function(n){return n},x=function(){function n(){}return n.value=new n,n}(),I=function(){function n(){}return n.value=new n,n}(),U=function(n){this.toWebglEnum=n},k=new U(function(n){if(n instanceof e)return r.fragmentShader;if(n instanceof a)return r.vertexShader;throw new Error("Failed pattern match at Graphics.WebGL.Types line 180, column 1 - line 186, column 1: "+[n.constructor.name])}),V=new U(function(n){if(n instanceof o)return r.deleteStatus;if(n instanceof u)return r.linkStatus;if(n instanceof i)return r.validateStatus;if(n instanceof f)return r.attachedShaders;if(n instanceof c)return r.activeAttributes;if(n instanceof d)return r.activeUniforms;throw new Error("Failed pattern match at Graphics.WebGL.Types line 168, column 1 - line 176, column 1: "+[n.constructor.name])}),N=new U(function(n){if(n instanceof m)return r.points;if(n instanceof E)return r.lines;if(n instanceof P)return r.lineLoop;if(n instanceof p)return r.lineStrip;if(n instanceof S)return r.triangles;if(n instanceof h)return r.triangleStrip;if(n instanceof T)return r.triangleFan;throw new Error("Failed pattern match at Graphics.WebGL.Types line 127, column 1 - line 136, column 1: "+[n.constructor.name])}),J=new U(function(n){if(n instanceof b)return r["byte"];if(n instanceof v)return r.unsignedByte;if(n instanceof g)return r["short"];if(n instanceof w)return r.unsignedShort;if(n instanceof M)return r["int"];if(n instanceof R)return r.unsignedInt;if(n instanceof y)return r["float"];throw new Error("Failed pattern match at Graphics.WebGL.Types line 109, column 1 - line 118, column 1: "+[n.constructor.name])}),$=new U(function(n){if(n instanceof C)return r.dynamicDraw;if(n instanceof _)return r.staticDraw;if(n instanceof D)return r.streamDraw;throw new Error("Failed pattern match at Graphics.WebGL.Types line 95, column 1 - line 100, column 1: "+[n.constructor.name])}),z=new U(function(n){if(n instanceof G)return r.depthBufferBit;if(n instanceof A)return r.colorBufferBit;if(n instanceof W)return r.stencilBufferBit;throw new Error("Failed pattern match at Graphics.WebGL.Types line 85, column 1 - line 90, column 1: "+[n.constructor.name])}),H=new U(function(n){if(n instanceof x)return r.arrayBuffer;if(n instanceof I)return r.elementArrayBuffer;throw new Error("Failed pattern match at Graphics.WebGL.Types line 76, column 1 - line 80, column 1: "+[n.constructor.name])}),j=function(n){return n.toWebglEnum};n.DataSize=B,n.DataSource=L,n.FragmentShader=e,n.VertexShader=a,n.DeleteStatus=o,n.LinkStatus=u,n.ValidateStatus=i,n.AttachedShaders=f,n.ActiveAttrs=c,n.ActiveUniforms=d,n.Points=m,n.Lines=E,n.LineLoop=P,n.LineStrip=p,n.Triangles=S,n.TriangleStrip=h,n.TriangleFan=T,n.Byte=b,n.UnsignedByte=v,n.Short=g,n.UnsignedShort=w,n.Int=M,n.UnsignedInt=R,n.Float=y,n.DynamicDraw=C,n.StaticDraw=_,n.StreamDraw=D,n.DepthBuffer=G,n.ColorBuffer=A,n.StencilBuffer=W,n.ArrayBuffer=x,n.ElementArrayBuffer=I,n.Uniform=t,n.Attribute=F,n.NullValue=l,n.ShaderError=s,n.ToWebGLEnum=U,n.toWebglEnum=j,n.toWebglEnumArrayBufferType=H,n.toWebglEnumBufferType=z,n.toWebglEnumBufferUsage=$,n.toWebglEnumDataType=J,n.toWebglEnumDrawMode=N,n.toWebglEnumProgramParam=V,n.toWebglEnumShader=k}(PS["Graphics.WebGL.Types"]=PS["Graphics.WebGL.Types"]||{}),function(n){"use strict";var r=PS.Prelude,t=PS["Control.Monad.Reader.Class"],e=PS["Control.Monad.Eff.Class"],a=PS["Graphics.WebGL.Raw"],o=PS["Graphics.WebGL.Types"],u=PS["Control.Monad.Error.Class"],i=(PS["Data.ArrayBuffer.Types"],PS["Data.Maybe"]),f=PS["Control.Monad.Reader.Trans"],c=PS["Control.Monad.Error.Trans"],d=PS["Control.Monad.Eff"],l=function(n){return function(u){return function(i){return function(l){return function(s){return function(m){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(function(r){return e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff)))(a.vertexAttribPointer(r)(n)(u)(o.toWebglEnum(o.toWebglEnumDataType)(i))(l)(s)(m))})}}}}}},s=function(n){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(function(r){return e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff)))(a.useProgram(r)(n))})},m=function(n){return function(o){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(function(r){return e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff)))(a.uniformMatrix4fv_(r)(n)(!1)(o))})}},E=function(n){return function(o){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(function(r){return e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff)))(a.shaderSource(r)(n)(o))})}},P=function(n){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(function(r){return e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff)))(a.linkProgram(r)(n))})},p=function(n){return function(l){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(function(t){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff)))(a.getProgramParameter(t)(n)(o.toWebglEnum(o.toWebglEnumProgramParam)(l))))(function(n){if(n instanceof i.Just)return r["return"](f.applicativeReaderT(c.applicativeErrorT(d.applicativeEff)))(n.value0);if(n instanceof i.Nothing)return u.throwError(u.monadErrorReaderT(c.monadErrorT(d.monadEff))(u.monadErrorErrorT(d.monadEff)))(new o.NullValue("getProgramParameter"));throw new Error("Failed pattern match at Graphics.WebGL.Methods line 82, column 1 - line 83, column 1: "+[n.constructor.name])})})}},S=function(n){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(function(r){return e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff)))(a.enableVertexAttribArray(r)(n))})},h=function(n){return function(u){return function(i){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(function(r){return e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff)))(a.drawArrays(r)(o.toWebglEnum(o.toWebglEnumDrawMode)(n))(u)(i))})}}},T=function(n){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(function(t){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff)))(a.createShader(t)(o.toWebglEnum(o.toWebglEnumShader)(n))))(function(n){if(n instanceof i.Just)return r["return"](f.applicativeReaderT(c.applicativeErrorT(d.applicativeEff)))(n.value0);if(n instanceof i.Nothing)return u.throwError(u.monadErrorReaderT(c.monadErrorT(d.monadEff))(u.monadErrorErrorT(d.monadEff)))(new o.NullValue("createShader"));throw new Error("Failed pattern match at Graphics.WebGL.Methods line 61, column 1 - line 62, column 1: "+[n.constructor.name])})})},b=r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(function(n){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff)))(a.createProgram(n)))(function(n){if(n instanceof i.Just)return r["return"](f.applicativeReaderT(c.applicativeErrorT(d.applicativeEff)))(n.value0);if(n instanceof i.Nothing)return u.throwError(u.monadErrorReaderT(c.monadErrorT(d.monadEff))(u.monadErrorErrorT(d.monadEff)))(new o.NullValue("createProgram"));throw new Error("Failed pattern match at Graphics.WebGL.Methods line 53, column 1 - line 54, column 1: "+[n.constructor.name]);
})}),v=r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(r[">>="](f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(r[">>>"](r.semigroupoidFn)(a.createBuffer)(e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff))))))(function(n){if(n instanceof i.Just)return r["return"](f.applicativeReaderT(c.applicativeErrorT(d.applicativeEff)))(n.value0);if(n instanceof i.Nothing)return u.throwError(u.monadErrorReaderT(c.monadErrorT(d.monadEff))(u.monadErrorErrorT(d.monadEff)))(new o.NullValue("createBuffer"));throw new Error("Failed pattern match at Graphics.WebGL.Methods line 46, column 1 - line 47, column 1: "+[n.constructor.name])}),g=function(n){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(function(r){return e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff)))(a.compileShader(r)(n))})},w=function(n){return function(o){return function(u){return function(i){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(function(r){return e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff)))(a.clearColor(r)(n)(o)(u)(i))})}}}},M=function(n){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(function(r){return e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff)))(a.clear(r)(o.toWebglEnum(o.toWebglEnumBufferType)(n)))})},R=function(n){return function(u){return function(i){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(function(r){return e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff)))(function(){if(u instanceof o.DataSource)return a.bufferData(r)(o.toWebglEnum(o.toWebglEnumArrayBufferType)(n))(u.value0)(o.toWebglEnum(o.toWebglEnumBufferUsage)(i));if(u instanceof o.DataSize)return a.bufferData_(r)(o.toWebglEnum(o.toWebglEnumArrayBufferType)(n))(u.value0)(o.toWebglEnum(o.toWebglEnumBufferUsage)(i));throw new Error("Failed pattern match at Graphics.WebGL.Methods line 24, column 1 - line 25, column 1: "+[u.constructor.name])}())})}}},y=function(n){return function(u){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(function(r){return e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff)))(a.bindBuffer(r)(o.toWebglEnum(o.toWebglEnumArrayBufferType)(n))(u))})}},C=function(n){return function(o){return r.bind(f.bindReaderT(c.monadErrorT(d.monadEff)))(t.ask(t.monadReaderReaderT(c.monadErrorT(d.monadEff))))(function(r){return e.liftEff(f.monadEffReader(c.monadErrorT(d.monadEff))(c.monadEffError(d.monadEff)(e.monadEffEff)))(a.attachShader(r)(n)(o))})}};n.vertexAttribPointer=l,n.useProgram=s,n.uniformMatrix4fv=m,n.shaderSource=E,n.linkProgram=P,n.getProgramParameter=p,n.enableVertexAttribArray=S,n.drawArrays=h,n.createShader=T,n.createProgram=b,n.createBuffer=v,n.compileShader=g,n.clearColor=w,n.clear=M,n.bufferData=R,n.bindBuffer=y,n.attachShader=C}(PS["Graphics.WebGL.Methods"]=PS["Graphics.WebGL.Methods"]||{}),function(n){"use strict";var r=PS["Graphics.WebGL.Shader"],t=PS["Graphics.WebGL.Methods"],e=PS.Prelude,a=PS["Control.Monad"],o=PS["Control.Monad.Error.Class"],u=PS["Control.Monad.Reader.Class"],i=PS["Control.Monad.Eff.Class"],f=(PS["Data.Function"],PS["Graphics.WebGL.Raw.Util"]),c=PS["Control.Monad.Eff"],d=PS["Data.Maybe"],l=(PS["Graphics.Canvas"],PS["Graphics.WebGL.Raw.Types"],PS["Graphics.WebGL.Types"]),s=PS["Control.Monad.Reader.Trans"],m=PS["Control.Monad.Error.Trans"],E=new l.ShaderError("could not link shaders prog"),P=function(n){return function(t){return e[">>="](c.bindEff)(r.getUniformBindingsImpl(n,t,l.Uniform))(e[">>>"](e.semigroupoidFn)(f.toMaybe)(e["return"](c.applicativeEff)))}},p=function(n){return e.bind(s.bindReaderT(m.monadErrorT(c.monadEff)))(u.ask(u.monadReaderReaderT(m.monadErrorT(c.monadEff))))(function(r){return e.bind(s.bindReaderT(m.monadErrorT(c.monadEff)))(i.liftEff(s.monadEffReader(m.monadErrorT(c.monadEff))(m.monadEffError(c.monadEff)(i.monadEffEff)))(P(r)(n)))(function(n){if(n instanceof d.Just)return e["return"](s.applicativeReaderT(m.applicativeErrorT(c.applicativeEff)))(n.value0);if(n instanceof d.Nothing)return o.throwError(o.monadErrorReaderT(m.monadErrorT(c.monadEff))(o.monadErrorErrorT(c.monadEff)))(new l.NullValue("getUniformBindings"));throw new Error("Failed pattern match at Graphics.WebGL.Shader line 89, column 1 - line 90, column 1: "+[n.constructor.name])})})},S=function(n){return function(t){return e[">>="](c.bindEff)(r.getAttrBindingsImpl(n,t,l.Attribute))(e[">>>"](e.semigroupoidFn)(f.toMaybe)(e["return"](c.applicativeEff)))}},h=function(n){return e.bind(s.bindReaderT(m.monadErrorT(c.monadEff)))(u.ask(u.monadReaderReaderT(m.monadErrorT(c.monadEff))))(function(r){return e.bind(s.bindReaderT(m.monadErrorT(c.monadEff)))(i.liftEff(s.monadEffReader(m.monadErrorT(c.monadEff))(m.monadEffError(c.monadEff)(i.monadEffEff)))(S(r)(n)))(function(n){if(n instanceof d.Just)return e["return"](s.applicativeReaderT(m.applicativeErrorT(c.applicativeEff)))(n.value0);if(n instanceof d.Nothing)return o.throwError(o.monadErrorReaderT(m.monadErrorT(c.monadEff))(o.monadErrorErrorT(c.monadEff)))(new l.NullValue("getAttrBindings"));throw new Error("Failed pattern match at Graphics.WebGL.Shader line 81, column 1 - line 82, column 1: "+[n.constructor.name])})})},T=function(n){return function(r){return function(a){return e.bind(s.bindReaderT(m.monadErrorT(c.monadEff)))(t.createShader(r))(function(r){return e.bind(s.bindReaderT(m.monadErrorT(c.monadEff)))(t.shaderSource(r)(a))(function(){return e.bind(s.bindReaderT(m.monadErrorT(c.monadEff)))(t.compileShader(r))(function(){return t.attachShader(n)(r)})})})}}},b=function(n){return function(r){return e.bind(s.bindReaderT(m.monadErrorT(c.monadEff)))(t.createProgram)(function(u){return e.bind(s.bindReaderT(m.monadErrorT(c.monadEff)))(T(u)(l.VertexShader.value)(n))(function(){return e.bind(s.bindReaderT(m.monadErrorT(c.monadEff)))(T(u)(l.FragmentShader.value)(r))(function(){return e.bind(s.bindReaderT(m.monadErrorT(c.monadEff)))(t.linkProgram(u))(function(){return e.bind(s.bindReaderT(m.monadErrorT(c.monadEff)))(t.getProgramParameter(u)(l.LinkStatus.value))(function(n){return e.bind(s.bindReaderT(m.monadErrorT(c.monadEff)))(a.when(s.monadReaderT(m.monadErrorT(c.monadEff)))(!n)(o.throwError(o.monadErrorReaderT(m.monadErrorT(c.monadEff))(o.monadErrorErrorT(c.monadEff)))(E)))(function(){return e.bind(s.bindReaderT(m.monadErrorT(c.monadEff)))(t.useProgram(u))(function(){return e["return"](s.applicativeReaderT(m.applicativeErrorT(c.applicativeEff)))(u)})})})})})})})}};n.getUniformBindings=p,n.getAttrBindings=h,n.compileShadersIntoProgram=b,n.addShaderToProgram=T}(PS["Graphics.WebGL.Shader"]=PS["Graphics.WebGL.Shader"]||{}),function(n){"use strict";var r=PS.Prelude,t=PS["Control.Monad.Error.Trans"],e=PS["Control.Monad.Reader.Trans"],a=PS["Graphics.WebGL.Shader"],o=(PS["Graphics.WebGL.Methods"],PS["Graphics.WebGL.Types"],PS["Control.Monad"],PS["Control.Monad.Error.Class"],PS["Control.Monad.Eff"]),u=(PS["Data.Either"],PS["Data.Maybe"],PS["Graphics.Canvas"],PS["Graphics.WebGL.Raw.Enums"],PS["Graphics.WebGL.Raw.Types"],function(n){return function(r){return t.runErrorT(e.runReaderT(n)(r))}}),i=function(n){return function(i){return function(f){return function(c){return u(r.bind(e.bindReaderT(t.monadErrorT(o.monadEff)))(a.compileShadersIntoProgram(f)(c))(function(u){return r.bind(e.bindReaderT(t.monadErrorT(o.monadEff)))(a.getAttrBindings(u))(function(i){return r.bind(e.bindReaderT(t.monadErrorT(o.monadEff)))(a.getUniformBindings(u))(function(r){return n(u)(i)(r)})})}))(i)}}}};n.runWebglWithShaders=i,n.runWebgl=u}(PS["Graphics.WebGL"]=PS["Graphics.WebGL"]||{}),function(n){"use strict";n.getWebglContextWithAttrsImpl=function(n,r,t,e){return function(){try{return t(n.getContext("webgl",r)||n.getContext("experimental-webgl",r))}catch(a){return e}}}}(PS["Graphics.WebGL.Context"]=PS["Graphics.WebGL.Context"]||{}),function(n){"use strict";var r=PS["Graphics.WebGL.Context"],t=(PS["Data.Function"],PS.Prelude,PS["Control.Monad.Reader.Class"],PS["Graphics.WebGL.Unsafe"],PS["Control.Monad.Eff"],PS["Control.Monad.Eff.Class"],PS["Data.Maybe"]),e=(PS["Graphics.Canvas"],PS["Graphics.WebGL.Types"],PS["Control.Monad.Reader.Trans"],PS["Control.Monad.Error.Trans"],function(n){return function(e){return r.getWebglContextWithAttrsImpl(n,e,t.Just.create,t.Nothing.value)}}),a={alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,preferLowPowerToHighPerformance:!1,failIfMajorPerformanceCaveat:!1},o=function(n){return e(n)(a)};n.getWebglContextWithAttrs=e,n.getWebglContext=o,n.defaultWebglContextAttrs=a}(PS["Graphics.WebGL.Context"]=PS["Graphics.WebGL.Context"]||{}),function(n){"use strict";var r="\nattribute vec4 a_Position;\nuniform mat4 u_perspective;\n\nvoid main() {\n  gl_Position = u_perspective * a_Position;\n}\n",t="\nvoid main() {\n  gl_FragColor = vec4(0.0, 1.0, 1.0, 1.0);\n}\n";n.fragmentShaderString=t,n.vertexShaderString=r}(PS["Renoma.Shaders"]=PS["Renoma.Shaders"]||{}),function(n){"use strict";var r=PS["Data.Matrix4"],t=PS.Math,e=(PS.Prelude,PS["Data.Vector3"]),a=(PS["Renoma.Types"],function(n){var e=r.mat4([t.cos(n.heading),0,t.sin(n.heading),0,t.sin(n.pitch)*t.sin(n.heading),t.cos(n.pitch),-t.cos(n.heading)*t.sin(n.pitch),0,-t.cos(n.pitch)*t.sin(n.heading),t.sin(n.pitch),t.cos(n.pitch)*t.cos(n.heading),0,0,0,0,1]);return e}),o={pos:e.vec3(.2)(0)(-10),pitch:t.pi/16,heading:t.pi/8,fov:0};n.defaultCamera=o,n.toMat4=a}(PS["Renoma.Camera"]=PS["Renoma.Camera"]||{}),function(n){"use strict";var r=PS.Prelude,t=PS["Data.Maybe.Unsafe"],e=PS["Graphics.Canvas"],a=PS["Graphics.WebGL.Context"],o=PS["Control.Monad.Eff.Class"],u=PS["Graphics.WebGL"],i=PS["Renoma.Shaders"],f=PS["Renoma.Camera"],c=PS["Data.Matrix4"],d=PS["Data.TypedArray"],l=PS["Graphics.WebGL.Methods"],s=PS["Data.Matrix"],m=PS["Control.Monad.Eff"],E=PS["Graphics.WebGL.Types"],P=PS["Control.Monad.Reader.Trans"],p=PS["Control.Monad.Error.Trans"],S=function(n){return function(n){return function(t){var e=E.DataSource.create(d.asFloat32Array([-.1,.1,.1,.1,.1,-.1,-.1,-.1])),a=c.mat4([1,0,0,.5,0,16/9,0,0,0,0,1,0,0,0,0,1]);return r.bind(P.bindReaderT(p.monadErrorT(m.monadEff)))(l.createBuffer)(function(o){return r.bind(P.bindReaderT(p.monadErrorT(m.monadEff)))(l.bindBuffer(E.ArrayBuffer.value)(o))(function(){return r.bind(P.bindReaderT(p.monadErrorT(m.monadEff)))(l.bufferData(E.ArrayBuffer.value)(e)(E.StaticDraw.value))(function(){return r.bind(P.bindReaderT(p.monadErrorT(m.monadEff)))(l.vertexAttribPointer(n.a_Position)(2)(E.Float.value)(!1)(0)(0))(function(){return r.bind(P.bindReaderT(p.monadErrorT(m.monadEff)))(l.enableVertexAttribArray(n.a_Position))(function(){return r.bind(P.bindReaderT(p.monadErrorT(m.monadEff)))(l.uniformMatrix4fv(t.u_perspective)(r["<<<"](r.semigroupoidFn)(d.asFloat32Array)(s.toArray)(c.mulM(f.toMat4(f.defaultCamera))(a))))(function(){return r.bind(P.bindReaderT(p.monadErrorT(m.monadEff)))(l.clearColor(0)(0)(0)(1))(function(){return r.bind(P.bindReaderT(p.monadErrorT(m.monadEff)))(l.clear(E.ColorBuffer.value))(function(){return l.drawArrays(E.TriangleFan.value)(0)(4)})})})})})})})})}}},h=function(n){return function(){o.liftEff(o.monadEffEff)(u.runWebglWithShaders(S)(n)(i.vertexShaderString)(i.fragmentShaderString))();return r["return"](m.applicativeEff)(r.unit)()}},T=function(){var n=r["<$>"](m.functorEff)(t.fromJust)(e.getCanvasElementById("glcanvas"))(),o=r["<$>"](m.functorEff)(t.fromJust)(a.getWebglContext(n))();return r["return"](m.applicativeEff)(o)()},b=r[">>="](m.bindEff)(T)(h);n.wgl=S,n.runProgram=h,n.getContext=T,n.main=b}(PS.Main=PS.Main||{}),PS.Main.main();